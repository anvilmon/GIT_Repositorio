<ui:composition 	xmlns="http://www.w3.org/1999/xhtml"
					xmlns:ui="http://java.sun.com/jsf/facelets"
					xmlns:h="http://java.sun.com/jsf/html"
					xmlns:f="http://java.sun.com/jsf/core"
					xmlns:p="http://primefaces.org/ui">
		
		<p:growl id="repoMessages"/>
		<p:dataTable id="dtRepositorios" value="#{repositorioBean.lstRepositorios}" var="rep" editable="true">
			<f:facet name="header" >
       			 <p:commandLink title="Add new row">
       				<p:graphicImage	value="../images/add.png" 	width="15" 	height="15"/>
       				<p:ajax event="click" listener="#{repositorioBean.onRowCreate()}"	update="@this dtRepositorios" />
       		 	</p:commandLink> 
    		</f:facet>
    		
    		<p:ajax event="rowEdit" 		listener="#{repositorioBean.onRowEdit}" 	update="@this" />
       		<p:ajax event="rowEditCancel" 	listener="#{repositorioBean.onRowCancel}" 	update="@this" />
    		
    		<p:column headerText="Root URL">
    			<p:cellEditor>
    				<f:facet name="output"><p:outputLabel value="#{rep.root}"/></f:facet>
					<f:facet name="input" >
						<p:inputText   value="#{rep.root}" validatorMessage="This field must not be null." required="true"/>
					</f:facet>    			
    			</p:cellEditor>
			</p:column>
			<p:column headerText="URL">
				<p:cellEditor>
    				<f:facet name="output"><p:outputLabel value="#{rep.url}"/></f:facet>
					<f:facet name="input" >
						<p:inputText   value="#{rep.url}" validatorMessage="This field must not be null." required="true"/>
					</f:facet>    			
    			</p:cellEditor>
			</p:column>
			<p:column headerText="Image" >
				<p:cellEditor>
    				<f:facet name="output"><p:graphicImage value="#{rep.image}" width="160" height="60"/></f:facet>
					<f:facet name="input" ><p:inputText   value="#{rep.image}"/></f:facet>    			
    			</p:cellEditor>
			</p:column>
			<p:column headerText="Active" width="50px;">
				<p:cellEditor>
    				<f:facet name="output"><p:selectBooleanCheckbox value="#{rep.active}" disabled="true" /></f:facet>
					<f:facet name="input" ><p:selectBooleanCheckbox value="#{rep.active}" disabled="false" /></f:facet>    			
    			</p:cellEditor>
			</p:column>
			<p:column headerText="Acciones">
				<p:commandLink>
					<p:graphicImage	value="../images/cancle-512.png" 	width="15" 	height="15"/>
					<p:ajax 		event="click"  	listener="#{repositorioBean.onRowDelete(rep)}" 	update="dtRepositorios" />
				</p:commandLink>
				<p:rowEditor />
				<p:commandLink>
					<p:graphicImage value="../images/yes-we-scan.jpg" width="15" height="15"/>
					<p:ajax event="click" listener="#{repositorioBean.onRowScan(rep)}" update="dtRepositorios" />
				</p:commandLink>
			</p:column>
		</p:dataTable>
</ui:composition>